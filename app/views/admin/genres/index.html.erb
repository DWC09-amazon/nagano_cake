<div class="container mt-4">
  <%# ページタイトル %>
  <h2 class="mb-4">ジャンル一覧・追加</h2>
  
  <%# エラーメッセージの表示 (フォームの上に移動) %>
  <% if @genre.errors.any? %>
    <div id="error_explanation" class="alert alert-danger">
      <h3><%= @genre.errors.count %>件のエラーがあります。</h3>
      <ul>
        <% @genre.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <%# 1. 新規追加フォーム (横並び) %>
  <%= form_with model: @genre, url: admin_genres_path, local: true do |f| %>
    <%# d-flex と align-items-center で要素を横並び＆垂直中央揃えにする %>
    <div class="d-flex align-items-center mb-5">
      
      <%# ジャンル名ラベル %>
      <div class="mr-3">
        <%= f.label :name, "ジャンル名" %>
      </div>
      
      <%# ジャンル名入力フィールド %>
      <div class="mr-3">
        <%# w-auto はフォームコントロールの幅を調整するため、ここでは特に指定せず %>
        <%= f.text_field :name, placeholder: "ジャンル名", class: "form-control" %>
      </div>
      
      <%# 新規登録ボタン %>
      <div>
        <%= f.submit "新規登録", class: "btn btn-success" %>
      </div>
      
    </div>
  <% end %>
  
  <hr class="mt-0">

  <%# 2. 既存ジャンルの一覧テーブル %>
  <div class="row">
    <div class="col-md-4"> <%# テーブルの幅を画像に合わせて狭くする %>
      <table class="table table-striped table-bordered">
        <thead>
          <tr class="bg-light">
            <th>ジャンル</th>
            <th style="width: 30%;"></th> <%# ボタン用の列の幅を調整 %>
          </tr>
        </thead>
        <tbody>
          <% @genres.each do |genre| %>
            <tr>
              <td><%= genre.name %></td>
              <td class="text-center">
                <%# ボタンを画像と同じ緑色、サイズに調整 %>
                <%= link_to "編集する", edit_admin_genre_path(genre), class: "btn btn-success btn-sm" %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
    
    <%# 右側は空きスペース (col-md-8) %>
  </div>
</div>